function getLocalstorageToFile(e){var t={};let a=["boxes","materials","battery"];for(let l=0;l<a.length;l++){var s=a[l],n=JSON.parse(localStorage.getItem(s));t[s]=[n]}var d=JSON.stringify(t),c=new Blob([d],{type:"text/plain"}),y=window.URL.createObjectURL(c),o=document.createElement("a");o.download=e,o.innerHTML="Download File",o.href=y,o.onclick=function(){document.body.removeChild(event.target)},o.style.display="none",document.body.appendChild(o),o.click(),feedback("save")}document.getElementById("save").addEventListener("click",()=>{getLocalstorageToFile("tofmc-materials.json")});const fileSelector=document.getElementById("backup");fileSelector.addEventListener("change",()=>{let[e]=document.querySelector("input[type=file]").files;if("application/json"!==e.type)return feedback("upload-fail"),!1;let t=new FileReader;t.addEventListener("load",()=>{let e=Object.entries(JSON.parse(t.result));for(let a=0;a<e.length;a++)localStorage.setItem(e[a][0],JSON.stringify(e[a][1][0]))},!1),feedback("upload"),e&&t.readAsText(e)});let url=location.href.split("#")[1];switch(url){case"future":document.getElementById("future").style.display="grid";break;case"download":document.getElementById("download").style.display="grid";break;case"update":document.getElementById("update").style.display="grid";break;case"dimensional":document.getElementById("dimensional").style.display="grid";break;case"simulacra":document.getElementById("simulacra").style.display="grid"}function openNav(){document.getElementById("mySidenav").style.width="250px"}function closeNav(){document.getElementById("mySidenav").style.width="0",document.getElementById("mySidenav").style.padding="60px 0 0 0"}var acc=document.getElementsByClassName("accordion");for(let i=0;i<acc.length;i++)acc[i].addEventListener("click",function(){this.classList.toggle("active");var e=this.nextElementSibling;"grid"===e.style.display?e.style.display="none":e.style.display="grid"});let isMobile=window.matchMedia("only screen and (max-width: 480px)").matches;if(isMobile){var acc=document.getElementsByClassName("mobile-form");for(let e=0;e<acc.length;e++)acc[e].addEventListener("click",function(){for(let e=0;e<acc.length;e++)"active"==acc[e].classList[1]&&(acc[e].classList.remove("active"),acc[e].nextElementSibling.style.height="0px",acc[e].nextElementSibling.style.visibility="hidden",acc[e].nextElementSibling.style.opacity="0",acc[e].nextElementSibling.style.padding="0");this.classList.toggle("active");var t=this.nextElementSibling;window.getComputedStyle(t,null).height>0?(t.style.height="0px",t.style.visibility="hidden",t.style.opacity="0",t.style.padding="0"):(t.style.height="auto",t.style.visibility="visible",t.style.opacity="1",t.style.padding="10px")})}function feedback(e){let t,a=document.getElementById("feedback-tab"),l=document.getElementById("warning-tab"),s=!1;switch(e){case"calc-amound-runs":t="Runs have been calculated.";break;case"needed":t="Simulacra has been added to goal.";break;case"change-amound-materials":t="Materials have been updated.";break;case"change-amound-boxes":case"change-amound-matrix":case"change-amound-matrice":case"change-amound-batteries":t="Boxes have been updated.";break;case"addDimensional":t="Dimensional runs added.";break;case"save":t="Back-up made.";break;case"upload":t="Materials, boxes and batteries uploaded.";break;case"upload-fail":t="JSON file only! Make sure its the backup file.",s=!0}s?(l.innerHTML=t,l.style.height="auto",l.style.visibility="visible",l.style.opacity="0.8",l.style.padding="10px",setTimeout(function(){l.style.height="0px",l.style.visibility="hidden",l.style.opacity="0",l.style.padding="0"},2e3)):(a.innerHTML=t,a.style.height="auto",a.style.visibility="visible",a.style.opacity="0.8",a.style.padding="10px",setTimeout(function(){a.style.height="0px",a.style.visibility="hidden",a.style.opacity="0",a.style.padding="0"},1e3))}